<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.1.5/dist/style.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@6.6.0"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.2.3"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.1.5/dist/index.umd.min.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const toolbar = new markmap.Toolbar();
  toolbar.attach(mm);
  const el = toolbar.render();
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, data) => {
        const {
          Markmap
        } = getMarkmap();
        window.mm = Markmap.create('svg#mindmap', getOptions == null ? void 0 : getOptions(), data);
      })(() => window.markmap,null,{"t":"heading","d":1,"p":{"lines":[0,1]},"v":"codql","c":[{"t":"heading","d":2,"p":{"lines":[1,2]},"v":"quick start","c":[{"t":"list_item","d":4,"p":{"lines":[2,14]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\"># the following query computes </span>\n<span class=\"token comment\"># all Pythagorean triples(毕达哥拉斯三元组)</span>\n<span class=\"token comment\"># between 1 and 10:</span>\n<span class=\"token keyword\">from</span> <span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> z\n<span class=\"token keyword\">where</span> x <span class=\"token operator\">in</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1.</span><span class=\"token number\">.10</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">and</span> y <span class=\"token operator\">in</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1.</span><span class=\"token number\">.10</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">and</span> z <span class=\"token operator\">in</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1.</span><span class=\"token number\">.10</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">and</span>\n    x<span class=\"token operator\">*</span>x <span class=\"token operator\">+</span> y<span class=\"token operator\">*</span>y <span class=\"token operator\">=</span> z<span class=\"token operator\">*</span>z\n<span class=\"token keyword\">select</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> z\n</code></pre>\n","c":[{"t":"list_item","d":6,"p":{"lines":[12,13]},"v":"<a href=\"https://lgtm.com/query/2100790036/\">See this in the query console on LGTM.com</a>"}]},{"t":"list_item","d":4,"p":{"lines":[14,29]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\"># We can also define a predicate square()</span>\n<span class=\"token comment\"># on integers in that class. </span>\n\nclass <span class=\"token keyword\">SmallInt</span> extends <span class=\"token keyword\">int</span> {\n    <span class=\"token keyword\">SmallInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> { this n <span class=\"token punctuation\">[</span><span class=\"token number\">1.</span><span class=\"token number\">.10</span><span class=\"token punctuation\">]</span> }\n    <span class=\"token keyword\">int</span> square<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> { result <span class=\"token operator\">=</span> this<span class=\"token operator\">*</span>this }\n}\n\n<span class=\"token keyword\">from</span> <span class=\"token keyword\">SmallInt</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">SmallInt</span> y<span class=\"token punctuation\">,</span> <span class=\"token keyword\">SmallInt</span> z\n<span class=\"token keyword\">where</span> x<span class=\"token punctuation\">.</span>square<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> y<span class=\"token punctuation\">.</span>square<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> z<span class=\"token punctuation\">.</span>square<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">select</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> z\n</code></pre>\n","c":[{"t":"list_item","d":6,"p":{"lines":[28,29]},"v":"<a href=\"https://lgtm.com/query/2101340747/\">See this in the query console on LGTM.com</a>"}]}]},{"t":"heading","d":2,"p":{"lines":[29,30]},"v":"QL","c":[{"t":"bullet_list","d":3,"p":{"lines":[30,32]},"v":"","c":[{"t":"list_item","d":4,"p":{"lines":[30,31]},"v":"QL is the powerful <strong>query language</strong> that underlies CodeQL, which is used to analyze code."}]},{"t":"heading","d":3,"p":{"lines":[32,33]},"v":"<a href=\"https://codeql.github.com/docs/ql-language-reference/predicates/\">Predicates</a>","c":[{"t":"bullet_list","d":4,"p":{"lines":[33,76]},"v":"","c":[{"t":"list_item","d":5,"p":{"lines":[33,34]},"v":"Strictly speaking, a predicate <strong>evaluates to a set of tuples.</strong>"},{"t":"list_item","d":5,"p":{"lines":[35,36]},"v":"demo","c":[{"t":"list_item","d":7,"p":{"lines":[36,76]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\">predicate isCountry<span class=\"token punctuation\">(</span>string country<span class=\"token punctuation\">)</span> {\n    country <span class=\"token operator\">=</span> <span class=\"token string\">\"China\"</span>\n    <span class=\"token operator\">or</span>\n    country <span class=\"token operator\">=</span> <span class=\"token string\">\"France\"</span>\n    <span class=\"token operator\">or</span>\n    country <span class=\"token operator\">=</span> <span class=\"token string\">\"USA\"</span>    \n}\n\npredicate hasCapital<span class=\"token punctuation\">(</span>string country<span class=\"token punctuation\">,</span> string capital<span class=\"token punctuation\">)</span> {\n    country <span class=\"token operator\">=</span> <span class=\"token string\">\"China\"</span> <span class=\"token operator\">and</span> capital <span class=\"token operator\">=</span> <span class=\"token string\">\"Beijing\"</span>\n    <span class=\"token operator\">or</span>\n    country <span class=\"token operator\">=</span> <span class=\"token string\">\"Belgium\"</span> <span class=\"token operator\">and</span> capital <span class=\"token operator\">=</span> <span class=\"token string\">\"Brussels\"</span>\n    <span class=\"token operator\">or</span>\n    country <span class=\"token operator\">=</span> <span class=\"token string\">\"Germany\"</span> <span class=\"token operator\">and</span> capital <span class=\"token operator\">=</span> <span class=\"token string\">\"Berlin\"</span>\n    <span class=\"token operator\">or</span>\n    country <span class=\"token operator\">=</span> <span class=\"token string\">\"France\"</span> <span class=\"token operator\">and</span> capital <span class=\"token operator\">=</span> <span class=\"token string\">\"Paris\"</span>\n}\n\n<span class=\"token keyword\">from</span> string c<span class=\"token punctuation\">,</span> string cap\n<span class=\"token keyword\">where</span> isCountry<span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span> <span class=\"token operator\">and</span> hasCapital<span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">,</span> cap<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">select</span> c<span class=\"token punctuation\">,</span> cap\n<span class=\"token comment\">/*\nChina   Beijing\nFrance  Paris\n*/</span>\n\n<span class=\"token comment\">/*\nfrom string c\nwhere isCountry(c)\nselect c\n*/</span>\n\n<span class=\"token comment\">/*\nfrom string c, string cap\nwhere hasCapital(c, cap)\nselect c, cap\n*/</span>\n</code></pre>\n"}]}]},{"t":"bullet_list","d":4,"p":{"lines":[80,100]},"v":"","c":[{"t":"list_item","d":5,"p":{"lines":[80,81]},"v":"Defining a predicate","c":[{"t":"list_item","d":7,"p":{"lines":[81,82],"index":1},"v":"1. The keyword <code>predicate</code> (for a <a href=\"https://codeql.github.com/docs/ql-language-reference/predicates/#predicates-without-result\">predicate without result</a>), or the type of the result (for a <a href=\"https://codeql.github.com/docs/ql-language-reference/predicates/#predicates-with-result\">predicate with result</a>)."},{"t":"list_item","d":7,"p":{"lines":[82,83],"index":2},"v":"2. The name of the predicate. This is an <a href=\"https://codeql.github.com/docs/ql-language-reference/ql-language-specification/#identifiers\">identifier</a> starting with a <strong>lowercase letter.</strong>"},{"t":"list_item","d":7,"p":{"lines":[83,84],"index":3},"v":"3. The arguments to the predicate, if any, <strong>separated by commas</strong>. For each argument, specify the argument type and an identifier for the argument variable."},{"t":"list_item","d":7,"p":{"lines":[84,85],"index":4},"v":"4. The predicate body itself. This is a logical <strong>formula</strong> enclosed in braces."}]},{"t":"list_item","d":5,"p":{"lines":[86,87]},"v":"Predicates without result","c":[{"t":"list_item","d":7,"p":{"lines":[87,90]},"v":"These predicate definitions start with the keyword <code>predicate</code>.<br>\nIf a value satisfies the logical property in the body,<br>\nthen the predicate <strong>holds for that value</strong>."},{"t":"list_item","d":7,"p":{"lines":[90,100]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\">predicate isSmall<span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> {\n    i <span class=\"token operator\">in</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token number\">9</span><span class=\"token punctuation\">]</span>\n}\n\n<span class=\"token keyword\">from</span> <span class=\"token keyword\">int</span> i\n<span class=\"token keyword\">where</span> isSmall<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">select</span> i\n</code></pre>\n"}]}]},{"t":"bullet_list","d":4,"p":{"lines":[102,127]},"v":"","c":[{"t":"list_item","d":5,"p":{"lines":[102,103]},"v":"Predicates with result","c":[{"t":"list_item","d":7,"p":{"lines":[103,105]},"v":"You can define a predicate with result by replacing<br>\nthe keyword predicate with the type of the result"},{"t":"list_item","d":7,"p":{"lines":[105,127]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">int</span> getSuccessor<span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> {\n    result <span class=\"token operator\">=</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token operator\">and</span>\n    i <span class=\"token operator\">in</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token number\">9</span><span class=\"token punctuation\">]</span>\n}\n<span class=\"token comment\">/* 结果为空\nfrom int i\nwhere i = 10\nselect getSuccessor(i)\n*/</span>\n\n<span class=\"token comment\">/* 结果为 2\nfrom int i\nwhere i = 1\nselect getSuccessor(i)\n*/</span>\n\n<span class=\"token comment\">/* 结果为 [2 .. 10] */</span>\n<span class=\"token keyword\">from</span> <span class=\"token keyword\">int</span> i\n<span class=\"token keyword\">select</span> getSuccessor<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n</code></pre>\n"}]}]}]},{"t":"heading","d":3,"p":{"lines":[127,128]},"v":"<a href=\"https://codeql.github.com/docs/ql-language-reference/queries/\">Queries</a>","c":[{"t":"list_item","d":5,"p":{"lines":[128,129]},"v":"Queries are the output of a QL program.There are two kinds of queries."},{"t":"list_item","d":5,"p":{"lines":[129,130]},"v":"Select clauses","c":[{"t":"list_item","d":7,"p":{"lines":[130,131]},"v":"When writing a query module, you can include a select clause (usually at the end of the file) of the following form:","c":[{"t":"list_item","d":9,"p":{"lines":[131,138]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">from</span> <span class=\"token comment\">/* ... variable declarations ... */</span>\n<span class=\"token keyword\">where</span> <span class=\"token comment\">/* ... logical formula ... */</span>\n<span class=\"token keyword\">select</span> <span class=\"token comment\">/* ... expressions ... */</span>\n<span class=\"token comment\"># The from and where parts are optional.</span>\n</code></pre>\n"}]}]},{"t":"list_item","d":5,"p":{"lines":[138,139]},"v":"Query predicates","c":[{"t":"list_item","d":7,"p":{"lines":[139,141]},"v":"A query predicate is a <a href=\"https://codeql.github.com/docs/ql-language-reference/predicates/#non-member-predicates\">non-member predicate</a> with a <code>query</code> annotation.<br>\nIt returns all the tuples that the predicate evaluates to."},{"t":"list_item","d":7,"p":{"lines":[141,142]},"v":"For example:","c":[{"t":"list_item","d":9,"p":{"lines":[142,150]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\">query <span class=\"token keyword\">int</span> getProduct<span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span> {\n    x <span class=\"token operator\">=</span> <span class=\"token number\">3</span> <span class=\"token operator\">and</span>\n    y <span class=\"token operator\">in</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">and</span>\n    result <span class=\"token operator\">=</span> x <span class=\"token operator\">*</span> y\n}\n</code></pre>\n"}]}]}]},{"t":"heading","d":3,"p":{"lines":[150,151]},"v":"<a href=\"https://codeql.github.com/docs/ql-language-reference/types/\">Types(class)</a>","c":[{"t":"list_item","d":5,"p":{"lines":[151,152]},"v":"The kinds of types in QL are <code>primitive types</code>, <code>classes</code> ..."},{"t":"list_item","d":5,"p":{"lines":[152,153]},"v":"Primitive types","c":[{"t":"list_item","d":7,"p":{"lines":[153,154]},"v":"These types are built in to QL and are always available in the global namespace"},{"t":"list_item","d":7,"p":{"lines":[154,158]},"v":"<pre><code>boolean, float, int, string, date\n</code></pre>\n"}]},{"t":"list_item","d":5,"p":{"lines":[158,159]},"v":"class","c":[{"t":"list_item","d":7,"p":{"lines":[159,160]},"v":"You can define your own types in QL. One way to do this is to define a class."},{"t":"list_item","d":7,"p":{"lines":[160,180]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\">class OneTwoThree extends <span class=\"token keyword\">int</span> {\n    OneTwoThree<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> { <span class=\"token comment\">// characteristic predicate</span>\n        this <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">or</span> this <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">or</span> this <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n    }\n\n    string getAString<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> { <span class=\"token comment\">// member predicate</span>\n        result <span class=\"token operator\">=</span> <span class=\"token string\">\"One, two or three: \"</span> <span class=\"token operator\">+</span> this<span class=\"token punctuation\">.</span>toString<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    }\n\n    predicate isEven<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> { <span class=\"token comment\">// member predicate</span>\n        this <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    }\n}\n\n<span class=\"token keyword\">from</span> OneTwoThree x\n<span class=\"token keyword\">where</span> x<span class=\"token punctuation\">.</span>isEven<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">select</span> x<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">.</span>getAString<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n"},{"t":"list_item","d":7,"p":{"lines":[180,184]},"v":"The body of a class can contain:<br>\n• A <strong>characteristic predicate</strong> declaration.<br>\n• Any number of <strong>member predicate</strong> declarations.<br>\n• Any number of <strong>field</strong> declarations.","c":[{"t":"list_item","d":9,"p":{"lines":[184,185]},"v":"characteristic predicate","c":[{"t":"list_item","d":11,"p":{"lines":[185,187]},"v":"They are logical properties that use the variable this<br>\nto restrict the possible values in the class."}]},{"t":"list_item","d":9,"p":{"lines":[187,188]},"v":"Member predicates","c":[{"t":"list_item","d":11,"p":{"lines":[188,190]},"v":"These are predicates that only apply to members of a particular class.<br>\nYou can call a member predicate on a value"}]},{"t":"list_item","d":9,"p":{"lines":[191,192]},"v":"Fields","c":[{"t":"list_item","d":11,"p":{"lines":[192,194]},"v":"These are variables declared in the body of a class.<br>\nYou can use these variables in predicate declarations inside the class."},{"t":"list_item","d":11,"p":{"lines":[194,222]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\">class <span class=\"token keyword\">SmallInt</span> extends <span class=\"token keyword\">int</span> {\n    <span class=\"token keyword\">SmallInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> { this <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span> }\n}\n\nclass DivisibleInt extends <span class=\"token keyword\">SmallInt</span> {\n    <span class=\"token comment\">/* declaration of the field `divisor` */</span>\n    <span class=\"token keyword\">SmallInt</span> divisor<span class=\"token punctuation\">;</span>   \n    DivisibleInt<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> { this <span class=\"token operator\">%</span> divisor <span class=\"token operator\">=</span> <span class=\"token number\">0</span> }\n\n    <span class=\"token keyword\">SmallInt</span> getADivisor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> { result <span class=\"token operator\">=</span> divisor }\n}\n\n<span class=\"token keyword\">from</span> DivisibleInt i\n<span class=\"token keyword\">select</span> i<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">.</span>getADivisor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">/*\n    In this example, the declaration `SmallInt divisor` \n    introduces a field `divisor`, \n    constrains it in the characteristic predicate, \n    and then uses it in the declaration \n    of the member predicate `getADivisor`. \n\n    This is similar to introducing variables in a `select clause` \n    by declaring them in the `from` part.\n*/</span>\n</code></pre>\n"}]}]}]}]},{"t":"heading","d":3,"p":{"lines":[222,223]},"v":"<a href=\"https://codeql.github.com/docs/ql-language-reference/variables/\">variables (free and bound variables)</a>","c":[{"t":"list_item","d":5,"p":{"lines":[223,224]},"v":"Variables in QL  represent sets of values, and those values are usually restricted by a <code>formula</code>.","c":[{"t":"list_item","d":7,"p":{"lines":[224,227]},"v":"<strong>This is different from variables in some other programming languages</strong>,<br>\nwhere variables represent memory locations that may contain data.<br>\nThat data can also change over time."},{"t":"list_item","d":7,"p":{"lines":[227,239]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">from</span> <span class=\"token keyword\">int</span> i\n<span class=\"token keyword\">where</span> i <span class=\"token operator\">in</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token number\">9</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">select</span> i\n<span class=\"token comment\">/**\n    Just based on its type, \n    the variable i could contain all integers. \n    However, it is constrained \n    by the formula i in [0 .. 9]. \n*/</span>\n</code></pre>\n"}]},{"t":"list_item","d":5,"p":{"lines":[239,240]},"v":"free variables","c":[{"t":"list_item","d":7,"p":{"lines":[240,256]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">/**\n    In these two cases, the values \n    of the expressions depend on \n    what values are assigned \n    to the variables i and x respectively. \n*/</span>\n<span class=\"token keyword\">from</span> <span class=\"token keyword\">int</span> i\n<span class=\"token keyword\">where</span> i <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n<span class=\"token keyword\">select</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">3</span>\n\n<span class=\"token keyword\">from</span> <span class=\"token keyword\">int</span> i\n<span class=\"token keyword\">where</span> i <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n<span class=\"token keyword\">select</span> i<span class=\"token punctuation\">.</span>sqrt<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n"}]},{"t":"list_item","d":5,"p":{"lines":[256,257]},"v":"bound variable","c":[{"t":"list_item","d":7,"p":{"lines":[257,268]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">/**\n    The second expression evaluates to -3, \n    the minimum value in the range [-3 .. 3]. \n    Although this expression uses a variable f, \n    it is just a **placeholder** or “dummy”\n    variable, and you can’t assign any values to it.\n*/</span>\n<span class=\"token keyword\">select</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> f <span class=\"token operator\">|</span> f <span class=\"token operator\">in</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">3</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre>\n"}]}]},{"t":"heading","d":3,"p":{"lines":[268,269]},"v":"<a href=\"https://codeql.github.com/docs/ql-language-reference/expressions/\">Expressions</a>","c":[{"t":"list_item","d":5,"p":{"lines":[269,270]},"v":"An expression evaluates to a set of values and has a type."},{"t":"list_item","d":5,"p":{"lines":[270,271]},"v":"expressions that are available in QL","c":[{"t":"list_item","d":7,"p":{"lines":[271,272]},"v":"Variable references","c":[{"t":"list_item","d":9,"p":{"lines":[272,273]},"v":"使用一个variable"}]},{"t":"list_item","d":7,"p":{"lines":[273,274]},"v":"Literals","c":[{"t":"list_item","d":9,"p":{"lines":[274,275]},"v":"可以理解为const 类型的值，比如一个字符串 <code>&quot;Hello&quot;</code>"}]},{"t":"list_item","d":7,"p":{"lines":[275,276]},"v":"Parenthesized expressions (括号表达式)"},{"t":"list_item","d":7,"p":{"lines":[276,277]},"v":"<strong>Ranges</strong>","c":[{"t":"list_item","d":9,"p":{"lines":[277,278]},"v":"In a valid range, the start and end expression are integers, floats, or dates."},{"t":"list_item","d":9,"p":{"lines":[278,280]},"v":"For example, <code>[3 .. 7]</code> is a valid range expression.<br>\nIts values are any integers between 3 and 7 (including 3 and 7 themselves)."},{"t":"list_item","d":9,"p":{"lines":[280,281]},"v":"<code>select [3 .. 7]</code>"}]},{"t":"list_item","d":7,"p":{"lines":[281,282]},"v":"Set literal expressions","c":[{"t":"list_item","d":9,"p":{"lines":[282,283]},"v":"集合"},{"t":"list_item","d":9,"p":{"lines":[283,284]},"v":"<code>select [1, 3 ,5, 7, 9]</code>"}]},{"t":"list_item","d":7,"p":{"lines":[284,285]},"v":"Super expressions","c":[{"t":"list_item","d":9,"p":{"lines":[285,286]},"v":"跟class相关，和编程语言的super类似"}]},{"t":"list_item","d":7,"p":{"lines":[286,287]},"v":"<strong>Calls to predicates (with result)</strong>","c":[{"t":"list_item","d":9,"p":{"lines":[287,288]},"v":"Calls to predicates with results are themselves expressions, 参考 Predicates with result"}]},{"t":"list_item","d":7,"p":{"lines":[288,289]},"v":"<a href=\"https://codeql.github.com/docs/ql-language-reference/expressions/#aggregations\">Aggregations</a>","c":[{"t":"list_item","d":9,"p":{"lines":[289,290]},"v":"<code>count, max, min, sum ...</code>"}]},{"t":"list_item","d":7,"p":{"lines":[290,291]},"v":"any","c":[{"t":"list_item","d":9,"p":{"lines":[291,292]},"v":"..."}]},{"t":"list_item","d":7,"p":{"lines":[292,293]},"v":"<strong>cast</strong>","c":[{"t":"list_item","d":9,"p":{"lines":[293,294]},"v":"类型转换"},{"t":"list_item","d":9,"p":{"lines":[294,295]},"v":"You can write a cast in two ways","c":[{"t":"list_item","d":11,"p":{"lines":[295,296]},"v":"postfix cast: A dot followed by the name of a type in parentheses. For example, <code>x.(Foo)</code> restricts the type of <code>x</code> to <code>Foo</code>."},{"t":"list_item","d":11,"p":{"lines":[296,297]},"v":"prefix cast: A type in parentheses followed by another expression. For example, <code>(Foo)x</code> also restricts the type of <code>x</code> to <code>Foo</code>."}]},{"t":"list_item","d":9,"p":{"lines":[297,305]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">import</span> java\n\n<span class=\"token keyword\">from</span> <span class=\"token keyword\">Type</span> t\n<span class=\"token keyword\">where</span> t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>Class<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>getASupertype<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>hasName<span class=\"token punctuation\">(</span><span class=\"token string\">\"List\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">select</span> t\n</code></pre>\n"}]},{"t":"list_item","d":7,"p":{"lines":[305,306]},"v":"Don’t-care expressions","c":[{"t":"list_item","d":9,"p":{"lines":[306,307]},"v":"This is an expression written as a single underscore <code>_</code>"},{"t":"list_item","d":9,"p":{"lines":[307,317]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">from</span> string s\n<span class=\"token keyword\">where</span> s <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">.</span>charAt<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">select</span> s\n\n<span class=\"token keyword\">from</span> string s\n<span class=\"token keyword\">where</span> s <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">.</span>charAt<span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">select</span> s\n</code></pre>\n"}]},{"t":"list_item","d":7,"p":{"lines":[317,318]},"v":"..."}]}]},{"t":"heading","d":3,"p":{"lines":[318,319]},"v":"<a href=\"https://codeql.github.com/docs/ql-language-reference/formulas\">Formulas</a>","c":[{"t":"list_item","d":5,"p":{"lines":[319,322]},"v":"Depending on the values assigned to those <code>free variables</code>,<br>\na formula can be <code>true or false</code>.<br>\nWhen a formula is true, we often say that the formula <code>holds</code>."},{"t":"list_item","d":5,"p":{"lines":[322,326]},"v":"For example, the formula x = 4 + 5 holds if the value 9 is assigned to x,<br>\nbut it doesn’t hold for other assignments to x.<br>\nSome formulas don’t have any free variables.<br>\nFor example 1 &lt; 2 always holds, and 1 &gt; 2 never holds."},{"t":"list_item","d":5,"p":{"lines":[326,327]},"v":"Type checks","c":[{"t":"list_item","d":7,"p":{"lines":[327,328]},"v":"<code>&lt;expression&gt; instanceof &lt;type&gt;</code>"}]},{"t":"list_item","d":5,"p":{"lines":[328,329]},"v":"Range checks","c":[{"t":"list_item","d":7,"p":{"lines":[329,330]},"v":"<code>&lt;expression&gt; in &lt;range&gt;</code>"}]},{"t":"list_item","d":5,"p":{"lines":[330,331]},"v":"Calls to predicates","c":[{"t":"list_item","d":7,"p":{"lines":[331,334]},"v":"If the call resolves to a <code>predicate without result</code>, then the call is a <code>formula</code>.<br>\nIt is also possible to call a <code>predicate with result</code>. This kind of call is an <code>expression</code> in QL, instead of a formula.<br>\n[ <code>formula</code> 表示 <code>true or false</code>, <code>expression</code> 表示 <code>a set of values</code> ]"},{"t":"list_item","d":7,"p":{"lines":[334,335]},"v":"示例参考 predicate without result"}]},{"t":"list_item","d":5,"p":{"lines":[335,336]},"v":"..."},{"t":"list_item","d":5,"p":{"lines":[336,337]},"v":"Explicit quantifiers","c":[{"t":"list_item","d":7,"p":{"lines":[337,338]},"v":"exists","c":[{"t":"list_item","d":9,"p":{"lines":[338,343]},"v":"<pre class=\"language-sql\"><code class=\"language-sql\"> <span class=\"token keyword\">exists</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>variable declarations<span class=\"token operator\">></span> <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>formula <span class=\"token number\">1</span><span class=\"token operator\">></span> <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>formula <span class=\"token number\">2</span><span class=\"token operator\">></span>\n <span class=\"token keyword\">exists</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>variable declarations<span class=\"token operator\">></span> <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>formula <span class=\"token number\">1</span><span class=\"token operator\">></span> <span class=\"token operator\">and</span> <span class=\"token operator\">&lt;</span>formula <span class=\"token number\">2</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span>\n</code></pre>\n"}]},{"t":"list_item","d":7,"p":{"lines":[343,344]},"v":"forall"},{"t":"list_item","d":7,"p":{"lines":[344,345]},"v":"forex"}]},{"t":"list_item","d":5,"p":{"lines":[345,346]},"v":"Logical connectives","c":[{"t":"list_item","d":7,"p":{"lines":[347,352]},"v":"Negation (not)<br>\nConditional formula (if … then … else)<br>\nConjunction (and)<br>\nDisjunction (or)<br>\nImplication (implies)"}]}]},{"t":"heading","d":3,"p":{"lines":[352,353]},"v":"..."}]},{"t":"heading","d":2,"p":{"lines":[353,354]},"v":"Install","c":[{"t":"list_item","d":4,"p":{"lines":[354,355]},"v":"..."}]},{"t":"heading","d":2,"p":{"lines":[355,356]},"v":"CodeQL library for C/C++","c":[{"t":"bullet_list","d":3,"p":{"lines":[356,358]},"v":"","c":[{"t":"list_item","d":4,"p":{"lines":[356,357]},"v":"When analyzing C or C++ code, you can use the large collection of classes in the CodeQL library for C and C++."}]},{"t":"heading","d":3,"p":{"lines":[358,359]},"v":"Docs","c":[{"t":"list_item","d":5,"p":{"lines":[359,360]},"v":"<a href=\"https://codeql.github.com/codeql-standard-libraries/cpp/\">https://codeql.github.com/codeql-standard-libraries/cpp/</a>"},{"t":"list_item","d":5,"p":{"lines":[361,362]},"v":"<a href=\"https://github.com/github/securitylab/blob/main/CodeQL_Queries\">https://github.com/github/securitylab/blob/main/CodeQL_Queries</a>"},{"t":"list_item","d":5,"p":{"lines":[363,364]},"v":"<a href=\"https://codeql.github.com/docs/codeql-language-guides/codeql-for-cpp/\">https://codeql.github.com/docs/codeql-language-guides/codeql-for-cpp/</a>"},{"t":"list_item","d":5,"p":{"lines":[365,366]},"v":"<a href=\"https://xz.aliyun.com/t/9275\">C/C++源码扫描系列- codeql 篇</a>"}]}]}]})</script>
</body>
</html>
